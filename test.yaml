::let:
  user:
    ::object:
      - ::titlecase:
          ::ref: $user.username
      - Type: AWS::IAM::User
        Properties:
          UserName:
            ::ref: $user.username
          Groups:
            - Administrators
          LoginProfile:
            Password:
              ::ref: $user.password
              ::else: default
            PasswordResetRequired: Yes
  users:
    ::merge:
      ::each $ as $user:
        ::call user:

Something:
  ::let:
    $items:
      - one
      - null
      - three
  ::each $items as $item:
    ::concat:
      - "<"
      - ::ref: $item
        ::else: unknown
      - ">"

Resources:
  ::call users:
    - username: jim
      password: one
    - username: jack
      password: two
    - username: johnny

